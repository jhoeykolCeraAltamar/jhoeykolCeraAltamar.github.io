<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Satisfy&display=swap');
</style>

<body>
    <div class="portada" id="portada">
        <div class="contenedor-portada">
            <div>
                <img src="/img/nostors.webp" alt="Haz clic para comenzar">
            </div>
            <div class="texto-portada">
                Felices 6 meses bonita ‚ù§Ô∏è
            </div>            
        </div>
        <span>Toca aqu√≠ para abrir algo hecho con amor ü•∞</span>
    </div>
    <div class="contenido-total" id="contenidoTotal">
        <div class="carta">
            <div class="contenido">
                <div class="parrafo">
                    <div class="titulo">
                        Mi amor bonito... ‚ù§Ô∏è
                    </div>
                    <div class="contenido-carta">

                        Mi amor hermoso,

                        Hoy es un d√≠a muy especial para ambos, porque celebramos 6 meses de amor, de una historia que
                        apenas
                        comienza, pero que ya ha marcado mi vida profundamente.
                        <br />

                        Durante estos seis meses, me he sentido el hombre m√°s feliz del mundo. No exagero cuando lo
                        digo,
                        porque
                        a
                        tu lado he vivido momentos m√°gicos, desde nuestro primer beso hasta cada caricia, cada risa,
                        cada
                        locura
                        compartida. Todo lo que hemos construido juntos ha sido hermoso y verdadero. Y en todo este
                        tiempo,
                        no
                        he
                        dejado de agradecerle a la vida por haberme cruzado contigo.
                        <br />

                        No llegaste cuando te busqu√©‚Ä¶ llegaste cuando m√°s te necesitaba. Sin avisar, sin condiciones, y
                        desde
                        entonces me cambiaste la vida. Porque contigo he descubierto lo que significa amar de verdad, lo
                        que
                        es
                        sentirse completo.
                        <br />
                        Sabes‚Ä¶ tan solo con pensar en ti, mi d√≠a se ilumina. Al ver una fotograf√≠a tuya, mi coraz√≥n se
                        acelera,
                        mis
                        pensamientos se llenan de ti, y mi alma se tranquiliza. Eres mi calma, mi ilusi√≥n, mi alegr√≠a.
                        <br />
                        Eres la primera persona a la que he amado as√≠, con tanta entrega, con tanto sentimiento, con
                        tanta
                        sinceridad. Y no tengo dudas‚Ä¶ eres t√∫ con quien quiero compartir mis d√≠as, mis sue√±os, mis
                        planes,
                        mis
                        triunfos, mis abrazos y hasta mis silencios.
                        <br />
                        Contigo el tiempo se detiene. Cuando est√°s cerca, no existe nada m√°s. Todo se desvanece a mi
                        alrededor y
                        solo est√°s t√∫‚Ä¶ t√∫ que llenas mis sentidos, t√∫ que eres la due√±a de mis pensamientos, de mis
                        sonrisas, de
                        mis
                        suspiros, y de todo mi ser.
                        <br />
                        Quiero que lo sepas, lo recuerdes siempre y lo sientas en cada palabra que te digo:
                        Te amo con toda mi alma, con todas mis fuerzas y con cada latido de mi coraz√≥n.
                        Gracias por existir, gracias por elegirme cada d√≠a, gracias por ense√±arme lo que es amar de
                        verdad.
                        Y si esto es solo el comienzo‚Ä¶ no puedo esperar a vivir el resto de esta hermosa historia
                        contigo.
                        <br />
                        Con todo mi amor,
                        Tu persona que nunca dejar√° de amarte.
                    </div>
                </div>
            </div>
            <div class="audio-player">
                <div class="imagen">

                </div>
                <div class="controls">
                    <button id="playPause">‚ñ†</button>
                </div>

                <div class="progress-container" id="progressContainer">
                    <div class="progress" id="progressBar"></div>
                </div>

                <div class="time">
                    <span id="currentTime">00:00</span>
                    <span>&nbsp/&nbsp</span>
                    <span id="duration">00:00</span>
                </div>
                <audio id="audio" autoplay loop>
                    <source src="/audios/foreverstar.mp3" type="audio/mpeg">
                </audio>
            </div>
        </div>
    </div>
    <script>
        document.getElementById("portada").addEventListener("click", () => {
            const portada = document.getElementById("portada");
            const contenido = document.getElementById("contenidoTotal");
            portada.style.opacity = "0";
            setTimeout(() => {
                portada.style.display = "none";
                contenido.classList.add("visible");
            }, 1000); // coincide con el tiempo del transition
        });
        const audio = document.getElementById("audio");
        const playPause = document.getElementById("playPause");
        const status = document.getElementById("status");
        const progressBar = document.getElementById("progressBar");
        const progressContainer = document.getElementById("progressContainer");
        const currentTimeEl = document.getElementById("currentTime");
        const durationEl = document.getElementById("duration");

        let isPlaying = true;
        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
        }

        function updateProgress() {
            const { currentTime, duration } = audio;
            const percent = (currentTime / duration) * 100;
            progressBar.style.width = percent + "%";
            currentTimeEl.textContent = formatTime(currentTime);
        }

        // Cargar duraci√≥n
        audio.addEventListener("loadedmetadata", () => {
            durationEl.textContent = formatTime(audio.duration);
        });

        audio.addEventListener("timeupdate", updateProgress);

        playPause.addEventListener("click", () => {
            if (isPlaying) {
                audio.pause();
                playPause.textContent = "‚ñ∂";
            } else {
                audio.play();
                console.log("üöÄ ~ status:", status)
                playPause.textContent = "‚ñ†";

            }
            isPlaying = !isPlaying;
        });

        audio.addEventListener("ended", () => {
            isPlaying = false;
            status.textContent = "Finalizado";
            playPause.textContent = "‚ñ∂";
            progressBar.style.width = "0%";
        });

        // Hacer clic en la barra de progreso para mover el audio
        progressContainer.addEventListener("click", (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;

            const newTime = (clickX / width) * duration;
            audio.currentTime = newTime;
        });
        const reproducirAudio = () => {
            audio.play()
                .then(() => console.log("Audio reproduci√©ndose..."))
                .catch(err => console.warn("Error de reproducci√≥n:", err));
            // Evita que vuelva a activarse despu√©s del primer clic
            document.removeEventListener("click", reproducirAudio);
        };

        // Escucha cualquier clic en el documento
        document.addEventListener("click", reproducirAudio);
        function crearCorazon() {
            const heart = document.createElement("div");
            heart.classList.add("heart");
            heart.style.left = Math.random() * 90 + "%";
            heart.style.left = Math.random() * 90 + "%";
            heart.style.left = Math.random() * 90 + "%";
            heart.innerHTML = "‚ù§Ô∏è&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚ù§Ô∏è";
            heart.innerHTML = "<br>    ‚ù§Ô∏è&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚ù§Ô∏è";
            heart.innerHTML = "<br>‚ù§Ô∏è&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚ù§Ô∏è";
            heart.innerHTML = "  ‚ù§Ô∏è&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚ù§Ô∏è";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 12000);
        }
        setInterval(crearCorazon, 400);
    </script>
</body>

</html>